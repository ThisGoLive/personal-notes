# 第五章:万无一失:网站的高可用架构(一)

## 网站可用性度量与考核

网站在将页面展现到用户前,需要经过很多环境,任何的环节出现了问题,都可能导致页面不能访问!

### 度量

网站不可用时间(故障时间)=故障修复时间点-故障发现时间点

网站年度可用性指标=(1-网站不可用时间/年度时间)\*100%

对与大多数网站,两个 9,基本可用,年度不可用时间小于 88 小时.三个 9 较高可用,小于 9 小时.四个 9 小于 53 分钟,五个九小于 5 分钟.

### 网站可用性考核

<table>
<tr><th>分类</th><th>描述</th><th>权重</th></tr>
<tr><td>事故级故障</td><td>严重故障,网站整体不可用</td><td>100</td></tr>
<tr><td>A类故障</td><td>网站访问不顺畅或核心功能不可用</td><td>20</td></tr>
<tr><td>B类故障</td><td>非核心功能不可用,或核心功能少数用户不可用</td><td>5</td></tr>
<tr><td>C类故障</td><td>以上故障外</td><td>1</td></tr>
</table>
故障分=故障时间(分钟数)*故障权重;

有时一个故障可能有多个部门多团队来承担,故障分也会相应按责任分摊到不停的团队和人

## 高可用的网站架构

一个带典型的网站,通常遵循三层基本分层架构模型.即应用层,服务层,数据层.各层键具有相对的独立性,应用成主要负责具体业务逻辑处理.服务层负责提供可复用的服务;数据层负责数据的存储和访问.中小型网站在具体部署时,通常将应用层和服务层部署在一起,而数据层单独部署.
