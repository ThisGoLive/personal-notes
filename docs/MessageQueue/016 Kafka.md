Kafka生成消息时的3种分区策略
https://my.oschina.net/u/4526289/blog/5517563

**mmap** ：写，通过 创建一个当前映射 mmap ，减少拷贝数据 内核态 到 用户态，当数据通过网络到达 内核的时候 被放置在 mmap开辟的共享空间，然后 Kafka 直接进行追加数据，保存到磁盘

**sendfile** ：读，通常情况，数据是 磁盘到内存到Kafka服务进程，再调用网络socket，给内核，再发出。 内核中 **sendfile(in, out)** 函数，两个参数，不再拷贝到服务进程的用户态，即 零拷贝。